# Завдання №02 з курсу "Backend на базі NodeJS"

## Опис завдання

Завдання полягає у розробці невеликого API, яке дозволяє отримувати певні дані з Системи Автоматичного Запису за допомогою парсингу (скрейпінгу) даних з цієї системи. Також у ході виконання завдання є можливість потренувати деякі навички по роботі із деякими додатковими інструментами для розробки на базі NestJS.

**Важливо!** Додаток, який ви зробите у рамках поточного завдання, ляже у основу наступного завдання з курсу.

### Початок виконання завдання

Для виконання завдання ви маєте зробити клон поточного [репозиторію](https://gitlab.com/kma-nodejs-backend/course-task-courses). Але, на відміну від попереднього завдання, для його виконання окрім пушу у власний репозиторій ви маєте створити Merge Request до основного репозиторію, з якого ви зробили клон своєї копії. Це дозволить отримати додаткові бали за виконання правок після code review (або за відсутність нарікань).
Після створення MR необхідно додати акаунт викладача [@noneedinmagic](https://gitlab.com/noneedinmagic) у якості рев'ювера. Назва MR має виглядати як `[Lastname] Course Task 02`, де Lastname - ваше прізвище латиницею. Цільова гілка для мерджу має мати назву `student/<lastname>`, де <lastname> - ваше прізвище латиницею усіма малими літерами.

### Перелік ендпоінтів

#### Дані про курс із САЗ

За адресою `/course/<code>` має повертатись інформація про курс із кодом `<code>`. Інформація має відповідати інтерфейсу `ICourse` із файлу `src/modules/course/types.ts`. 
Дані необхідно брати в живому режимі із САЗ, логіку парсингу сторінки САЗ варто винести у методи відповідного сервісу для роботи із курсами. 
* У разі, якщо курс відсутній у САЗ, то ендпоінт має викидати 404 помилку. 
* У разі некоректного (нечислового) коду має викидатись 400 помилка. 
* У разі проблем зі зв'язком із САЗ має викидатись 500 помилка. Текст помилок довільні.

#### Дані про файли розкладу із САЗ

За адресою `/schedule/<year>/<season>` має повертатись інформація про файли розкладу, які існують в САЗ для вказаного семестру. 
Інформація має відповідати масиву об'єктів, що відповідають інтерфейсу `IScheduleItem` із файлу `src/modules/schedule/types.ts`. 
Дані необхідно брати в живому режимі із САЗ за адресами на кшталт `https://my.ukma.edu.ua/schedule/?year=2020&season=3`, логіку парсингу сторінки САЗ варто винести у методи відповідного сервісу для роботи із розкладами. 
* У разі, якщо на сторінці відповідного семестру відсутні розклади, то ендпоінт має повертати 404 помилку.

Також тут варто зазначити, що формат дати та часу має відповідати тому, який вказаний у коментарі на відповідному рядку. В URL даного едпоінту `<season>` має набувати значень `'spring' | 'summer' | 'autumn'`.
Варто зазначити, що у САЗ значення року в URL позначає навчальний рік за принципом - 2021 в URL означає 2021-2022 навчальний рік; відповідно, 3 семестр у 2021 році з URL означатиме реально літній триместр 2022 року.
У ваші же імплементації поле року в URL має означати календарний рік. Відповідно, значення 2021 та summer мають означати літній триместр 2021 року.

### Рекомендації щодо виконання завдання

- Логіка отримання даних з сайту має виноситись у відповідні сервіси, а не триматись у контролерах. 
- Контролери мають тримати логіку отримання даних із сервісу та виведення у необхідному формати.
- Для отримання даних із САЗ найпростіше використовувати бібліотеку `axios`. 
- Для парсингу даних з HTML-сторінок можна, наприклад, використовувати `cheerio`.
- Пам'ятайте про асинхронність! Скоріш за все, вам доведеться використовувати Promises. 
- У разі, якщо із цим потрібна додаткова допомога - звертайтесь до чату; також згодом будуть додаткові матеріали.
